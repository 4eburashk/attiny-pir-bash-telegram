#!/bin/bash
#=========================================
# tg4all Version: 0.003 Server edition
#
# Edit by 4eburashk http://csn.net4me.net
#    On Fri 27 Nov 2020 08:50:22 PM MSK
# —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –Ω–∞ —Ä–∞–∑–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
#=========================================

# Config:
. tg4all.conf
# –í –∫–æ–Ω—Ñ–∏–≥–µ –≤—Å–µ–≥–æ –¥–≤–µ, –Ω–æ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
#TOKEN - —Ç–æ–∫–µ–Ω tg –±–æ—Ç–∞
#CHATID - id —á–∞—Ç–∞ —Å –±–æ—Ç–æ–º –∏–ª–∏ –∫–∞–Ω–∞–ª–∞

DT="[ $(date) ]";

# function:
sendTGmess(){
read -r -d '' DATA <<EOF
{
	"chat_id": "$CHATID",
	"text":	"$1",
	"parse_mode": "markdown",
	"disable_web_page_preview": true,
	"disable_notification": $2	
}
EOF
echo "$DT –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è";
curl -X POST \
	 -H "Content-Type: application/json" \
	 -d "$DATA" \
     "https://api.telegram.org/bot$TOKEN/sendMessage" >/dev/null 2>&1;
echo "$DT –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ";
}
# END of function

# ===================== choise: ====================
case $1 in
"-pir")
read -r -d '' TXT <<EOF
üõ† PIR Alert!

*üíª from SERVER*

_–°—Ä–∞–±–æ—Ç–∞–ª –¥–∞—Ç—á–∏–∫ –¥–≤–∏–∂–µ–Ω–∏—è, –ø–æ–¥–∫–ª—é—á—ë–Ω–Ω—ã–π –∫ –°–ï–†–í–ï–†–£. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–≤–µ—Ä—å —á—Ç–æ –∏–º–µ–Ω–Ω–æ —Ç–∞–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç._

ü•ïü•ïü•ï

[net4me.net](https://net4me.net)
EOF
sendTGmess "$TXT" false;
;;

"-login")
read -r -d '' TXT1 <<EOF
üõ† LOGIN Alert!

ü•ïü•ïü•ï

EOF
TXT2="\`\`\`\n$(w)\n\`\`\`";
TXT3="[net4me.net](https://net4me.net)";
sendTGmess "$TXT1\n\n$TXT2\n\n_$(date)_\n$TXT3" true;
;;

*)
echo "	========= telegram mesage sender";
echo "	use: $0 [ -pir | -login ] ";
exit 2;
;;
esac

wait;
exit 0;
# END
